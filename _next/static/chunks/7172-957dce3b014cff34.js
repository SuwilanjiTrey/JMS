"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7172],{23614:(e,t,a)=>{a.d(t,{Vp:()=>i,XD:()=>n,_q:()=>d,_m:()=>s});let r={admin:["read:cases","write:cases","delete:cases","assign:cases","update:rulings","manage:users","manage:calendar","upload:documents","read:documents","summarize:documents","search:cases"],judge:["read:cases","write:cases","update:rulings","manage:calendar","upload:documents","read:documents","summarize:documents","search:cases"],lawyer:["read:cases","write:cases","upload:documents","read:documents","summarize:documents","search:cases"],public:["read:cases","search:cases"]},s=(e,t)=>r[e].includes(t),n={draft:"bg-gray-100 text-gray-800",active:"bg-blue-100 text-blue-800",pending:"bg-yellow-100 text-yellow-800",closed:"bg-green-100 text-green-800",appealed:"bg-purple-100 text-purple-800",dismissed:"bg-red-100 text-red-800"},i={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"},d={civil:"Civil",criminal:"Criminal",family:"Family",commercial:"Commercial",constitutional:"Constitutional",other:"Other"}},26126:(e,t,a)=>{a.d(t,{E:()=>l});var r=a(95155);a(12115);var s=a(99708),n=a(74466),i=a(59434);let d=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,asChild:n=!1,...l}=e,o=n?s.DX:"span";return(0,r.jsx)(o,{"data-slot":"badge",className:(0,i.cn)(d({variant:a}),t),...l})}},30285:(e,t,a)=>{a.d(t,{$:()=>l});var r=a(95155);a(12115);var s=a(99708),n=a(74466),i=a(59434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:a,size:n,asChild:l=!1,...o}=e,c=l?s.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,i.cn)(d({variant:a,size:n,className:t})),...o})}},33885:(e,t,a)=>{a.d(t,{A:()=>N});var r=a(95155),s=a(12115),n=a(6874),i=a.n(n),d=a(35695),l=a(30285),o=a(26126),c=a(54011),u=a(59434);function m(e){let{className:t,...a}=e;return(0,r.jsx)(c.bL,{"data-slot":"avatar",className:(0,u.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function x(e){let{className:t,...a}=e;return(0,r.jsx)(c._V,{"data-slot":"avatar-image",className:(0,u.cn)("aspect-square size-full",t),...a})}function g(e){let{className:t,...a}=e;return(0,r.jsx)(c.H4,{"data-slot":"avatar-fallback",className:(0,u.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}var h=a(44838),p=a(87879),v=a(47924),f=a(23861),b=a(71007),y=a(381),j=a(34835),w=a(74783);function N(e){let{userRole:t,userName:a,userAvatar:n}=e,[c,u]=(0,s.useState)(!1),N=(0,d.useRouter)(),A=e=>{switch(e){case"admin":return"/admin";case"judge":return"/judges";case"lawyer":return"/lawyers";case"public":return"/public";default:return"/"}};return(0,r.jsxs)("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)(i(),{href:t?A(t):"/",className:"flex items-center",children:[(0,r.jsx)(p.A,{className:"h-8 w-8 text-orange-500 mr-2"}),(0,r.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"JMS Zambia"})]})}),t&&(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,r.jsx)(i(),{href:A(t),className:"text-gray-700 hover:text-orange-600 px-3 py-2 rounded-md text-sm font-medium",children:"Dashboard"}),"public"!==t&&(0,r.jsx)(i(),{href:"".concat(A(t),"/cases"),className:"text-gray-700 hover:text-orange-600 px-3 py-2 rounded-md text-sm font-medium",children:"Cases"}),("admin"===t||"judge"===t)&&(0,r.jsx)(i(),{href:"".concat(A(t),"/calendar"),className:"text-gray-700 hover:text-orange-600 px-3 py-2 rounded-md text-sm font-medium",children:"Calendar"}),"admin"===t&&(0,r.jsx)(i(),{href:"/admin/users",className:"text-gray-700 hover:text-orange-600 px-3 py-2 rounded-md text-sm font-medium",children:"Users"}),"lawyer"===t&&(0,r.jsx)(i(),{href:"/lawyers/documents",className:"text-gray-700 hover:text-orange-600 px-3 py-2 rounded-md text-sm font-medium",children:"Documents"}),"public"===t&&(0,r.jsx)(i(),{href:"/public/search",className:"text-gray-700 hover:text-orange-600 px-3 py-2 rounded-md text-sm font-medium",children:"Search"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(l.$,{variant:"ghost",size:"sm",children:(0,r.jsx)(v.A,{className:"h-4 w-4"})}),(0,r.jsx)(l.$,{variant:"ghost",size:"sm",children:(0,r.jsx)(f.A,{className:"h-4 w-4"})}),t&&a&&(0,r.jsxs)(h.rI,{children:[(0,r.jsx)(h.ty,{asChild:!0,children:(0,r.jsxs)(l.$,{variant:"ghost",className:"flex items-center space-x-2",children:[(0,r.jsxs)(m,{className:"h-8 w-8",children:[(0,r.jsx)(x,{src:n,alt:a}),(0,r.jsx)(g,{children:a.split(" ").map(e=>e[0]).join("").toUpperCase()})]}),(0,r.jsxs)("div",{className:"hidden md:block text-left",children:[(0,r.jsx)("div",{className:"text-sm font-medium",children:a}),(0,r.jsx)(o.E,{className:(e=>{switch(e){case"admin":return"bg-orange-500 text-white";case"judge":return"bg-green-600 text-white";case"lawyer":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(t),children:t})]})]})}),(0,r.jsxs)(h.SQ,{align:"end",className:"w-56",children:[(0,r.jsx)(h.lp,{children:"My Account"}),(0,r.jsx)(h.mB,{}),(0,r.jsxs)(h._2,{children:[(0,r.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Profile"]}),(0,r.jsxs)(h._2,{children:[(0,r.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Settings"]}),(0,r.jsx)(h.mB,{}),(0,r.jsxs)(h._2,{onClick:()=>{localStorage.removeItem("userRole"),localStorage.removeItem("userName"),N.push("/login")},children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}),t&&(0,r.jsx)(l.$,{variant:"ghost",size:"sm",className:"md:hidden",onClick:()=>u(!c),children:(0,r.jsx)(w.A,{className:"h-4 w-4"})})]})]})}),c&&t&&(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t",children:[(0,r.jsx)(i(),{href:A(t),className:"text-gray-700 hover:text-orange-600 block px-3 py-2 rounded-md text-base font-medium",children:"Dashboard"}),"public"!==t&&(0,r.jsx)(i(),{href:"".concat(A(t),"/cases"),className:"text-gray-700 hover:text-orange-600 block px-3 py-2 rounded-md text-base font-medium",children:"Cases"}),("admin"===t||"judge"===t)&&(0,r.jsx)(i(),{href:"".concat(A(t),"/calendar"),className:"text-gray-700 hover:text-orange-600 block px-3 py-2 rounded-md text-base font-medium",children:"Calendar"}),"admin"===t&&(0,r.jsx)(i(),{href:"/admin/users",className:"text-gray-700 hover:text-orange-600 block px-3 py-2 rounded-md text-base font-medium",children:"Users"}),"lawyer"===t&&(0,r.jsx)(i(),{href:"/lawyers/documents",className:"text-gray-700 hover:text-orange-600 block px-3 py-2 rounded-md text-base font-medium",children:"Documents"}),"public"===t&&(0,r.jsx)(i(),{href:"/public/search",className:"text-gray-700 hover:text-orange-600 block px-3 py-2 rounded-md text-base font-medium",children:"Search"})]})})]})}},40283:(e,t,a)=>{a.d(t,{A:()=>c,AuthProvider:()=>o});var r=a(95155),s=a(12115),n=a(45404),i=a(55181),d=a(79323);let l=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[m,x]=(0,s.useState)(!0);(0,s.useEffect)(()=>{if(!i.j)return void x(!1);let e=(0,n.hg)(i.j,async e=>{if(e)try{let t=await (0,d.cS)(e);t&&(o(t),u(t.role),localStorage.setItem("userRole",t.role),localStorage.setItem("userName",t.displayName))}catch(e){console.error("Error converting Firebase user:",e),o(null),u(null),localStorage.removeItem("userRole"),localStorage.removeItem("userName")}else o(null),u(null),localStorage.removeItem("userRole"),localStorage.removeItem("userName");x(!1)});return()=>e()},[]);let g=async(e,t)=>{let a={id:"1",email:e,displayName:"Demo User",role:"admin",createdAt:new Date,updatedAt:new Date,isActive:!0};o(a),u(a.role),localStorage.setItem("userRole",a.role),localStorage.setItem("userName",a.displayName)},h=async()=>{i.j&&await i.j.signOut(),o(null),u(null),localStorage.removeItem("userRole"),localStorage.removeItem("userName")},p=async e=>{console.log("Register:",e)};return(0,r.jsx)(l.Provider,{value:{user:a,userRole:c,loading:m,login:g,logout:h,register:p},children:t})}function c(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},44838:(e,t,a)=>{a.d(t,{SQ:()=>l,_2:()=>o,lp:()=>c,mB:()=>u,rI:()=>i,ty:()=>d});var r=a(95155);a(12115);var s=a(48698),n=a(59434);function i(e){let{...t}=e;return(0,r.jsx)(s.bL,{"data-slot":"dropdown-menu",...t})}function d(e){let{...t}=e;return(0,r.jsx)(s.l9,{"data-slot":"dropdown-menu-trigger",...t})}function l(e){let{className:t,sideOffset:a=4,...i}=e;return(0,r.jsx)(s.ZL,{children:(0,r.jsx)(s.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...i})})}function o(e){let{className:t,inset:a,variant:i="default",...d}=e;return(0,r.jsx)(s.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":i,className:(0,n.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...d})}function c(e){let{className:t,inset:a,...i}=e;return(0,r.jsx)(s.JU,{"data-slot":"dropdown-menu-label","data-inset":a,className:(0,n.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...i})}function u(e){let{className:t,...a}=e;return(0,r.jsx)(s.wv,{"data-slot":"dropdown-menu-separator",className:(0,n.cn)("bg-border -mx-1 my-1 h-px",t),...a})}},45932:(e,t,a)=>{a.d(t,{I:()=>r});let r={USERS:"users",CASES:"cases",HEARINGS:"hearings",DOCUMENTS:"documents",RULINGS:"rulings",ROLES:"roles"}},55181:(e,t,a)=>{a.d(t,{db:()=>d,j:()=>l});var r=a(23915),s=a(35317),n=a(45404);let i=(0,r.Wp)({apiKey:"AIzaSyCQCjFANCjZARPneTFAaDHqkOKe5xD2DPM",authDomain:"judiciary-management-system.firebaseapp.com",projectId:"judiciary-management-system",storageBucket:"judiciary-management-system.firebasestorage.app",messagingSenderId:"537393739795",appId:"1:537393739795:web:6651221da1f64208f227e6",measurementId:"G-REZMV74MS7"}),d=(0,s.aU)(i),l=(0,n.xI)(i)},59434:(e,t,a)=>{a.d(t,{cn:()=>n});var r=a(52596),s=a(39688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},79323:(e,t,a)=>{a.d(t,{cS:()=>i});var r=a(55181),s=a(45932);a(45404);var n=a(35317);let i=async e=>{try{var t,a,i,d;let l=await (0,n.x7)((0,n.H9)(r.db,s.I.USERS,e.uid));if(!l.exists())return null;let o=l.data();return{id:e.uid,email:e.email||"",displayName:e.displayName||o.displayName||"",role:o.role,photoURL:e.photoURL||o.photoURL||"",createdAt:(null==(t=o.createdAt)?void 0:t.toDate())||new Date,updatedAt:(null==(a=o.updatedAt)?void 0:a.toDate())||new Date,isActive:null==(d=o.isActive)||d,lastLoginAt:null==(i=o.lastLoginAt)?void 0:i.toDate(),profile:o.profile}}catch(e){return console.error("Error converting Firebase user to app user:",e),null}}},79783:(e,t,a)=>{a.d(t,{A:()=>d});var r=a(95155),s=a(12115),n=a(35695),i=a(23614);function d(e){let{children:t,allowedRoles:a,requiredPermission:d,redirectTo:l="/login",fallback:o}=e,c=(0,n.useRouter)();(0,s.useEffect)(()=>{(()=>{let e=localStorage.getItem("userRole");if(!e)return c.push(l);if(!a.includes(e)){let t=u(e);c.push(t);return}if(d&&!(0,i._m)(e,d))return c.push("/unauthorized")})()},[a,d,l,c]);let u=e=>{switch(e){case"admin":return"/admin";case"judge":return"/judges";case"lawyer":return"/lawyers";case"public":return"/public";default:return"/"}},m=localStorage.getItem("userRole");return m&&a.includes(m)?d&&!(0,i._m)(m,d)?o||(0,r.jsx)("div",{className:"p-4",children:"Access denied"}):(0,r.jsx)(r.Fragment,{children:t}):o||(0,r.jsx)("div",{className:"p-4",children:"Loading..."})}},95060:(e,t,a)=>{a.d(t,{A:()=>f});var r=a(95155),s=a(6874),n=a.n(s),i=a(35695),d=a(59434),l=a(73783),o=a(57434),c=a(69074),u=a(17580),m=a(47924),x=a(381),g=a(87879),h=a(13052),p=a(30285),v=a(26126);function f(e){let{userRole:t,isOpen:a,onClose:s}=e,f=(0,i.usePathname)(),b=(e=>{let t=[{name:"Dashboard",href:"admin"===e?"/admin":"judge"===e?"/judges":"lawyer"===e?"/lawyers":"/public",icon:l.A}];return"public"!==e&&t.push({name:"Cases",href:"admin"===e?"/admin/cases":"judge"===e?"/judges/cases":"/lawyers/cases",icon:o.A}),("admin"===e||"judge"===e)&&t.push({name:"Calendar",href:"admin"===e?"/admin/calendar":"/judges/calendar",icon:c.A}),"admin"===e&&t.push({name:"Users",href:"/admin/users",icon:u.A}),"lawyer"===e&&t.push({name:"Documents",href:"/lawyers/documents",icon:o.A}),"public"===e&&(t.push({name:"Search Cases",href:"/public/cases",icon:m.A}),t.push({name:"Advanced Search",href:"/public/search",icon:m.A,badge:"New"})),t.push({name:"Settings",href:"/settings",icon:x.A}),t})(t),y=e=>f===e||f.startsWith(e+"/");return a?(0,r.jsx)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out",children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(g.A,{className:"h-6 w-6 text-zambia-orange mr-2"}),(0,r.jsx)("span",{className:"text-lg font-bold text-zambia-black",children:"JMS Zambia"})]}),(0,r.jsx)(p.$,{variant:"ghost",size:"sm",onClick:s,children:(0,r.jsx)(h.A,{className:"h-4 w-4"})})]}),(0,r.jsx)("div",{className:"p-4 border-b",children:(0,r.jsx)(v.E,{className:(e=>{switch(e){case"admin":return"bg-zambia-orange text-white";case"judge":return"bg-zambia-green text-white";case"lawyer":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(t),children:t.charAt(0).toUpperCase()+t.slice(1)})}),(0,r.jsx)("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:b.map(e=>(0,r.jsxs)(n(),{href:e.href,className:(0,d.cn)("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",y(e.href)?"bg-zambia-orange text-white":"text-gray-700 hover:bg-gray-100 hover:text-zambia-orange"),onClick:s,children:[(0,r.jsx)(e.icon,{className:"mr-3 h-4 w-4"}),(0,r.jsx)("span",{className:"flex-1",children:e.name}),e.badge&&(0,r.jsx)(v.E,{variant:"secondary",className:"text-xs",children:e.badge})]},e.name))}),(0,r.jsx)("div",{className:"p-4 border-t",children:(0,r.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:["Judicial Management System",(0,r.jsx)("br",{}),"\xa9 2024 Republic of Zambia"]})})]})}):null}}}]);