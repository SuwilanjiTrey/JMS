(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[641],{5779:(e,s,a)=>{Promise.resolve().then(a.bind(a,8725))},8725:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>J});var r=a(5155),t=a(2115),i=a(6695),l=a(6126),n=a(285),c=a(4165),d=a(2523),o=a(5057),h=a(9409),x=a(8539),m=a(4186),u=a(4516),j=a(1007),g=a(9074),v=a(2355),p=a(3052),N=a(4616),b=a(5623),y=a(3231),f=a(2944),w=a(79),C=a(3898),S=a(7223),T=a(8882),k=a(6694),A=a(542);function E(e){let{events:s=[],onEventClick:a,onDateClick:c,onEventCreate:d}=e,[o,h]=(0,t.useState)(new Date),[x,m]=(0,t.useState)(null),u=(0,y.w)(o),j=(0,f.p)(o),g=(0,w.k)({start:u,end:j}),E=e=>s.filter(s=>(0,C.r)(s.start,e)),H=e=>{switch(e.type){case"hearing":return"bg-zambia-orange text-white";case"meeting":return"bg-blue-100 text-blue-800";case"deadline":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},z=e=>{switch(e){case"urgent":return"border-red-500";case"high":return"border-orange-500";case"medium":return"border-yellow-500";case"low":return"border-green-500";default:return"border-gray-300"}},J=e=>{m(e),null==c||c(e)},P=(e,s)=>{s.stopPropagation(),null==a||a(e)},M=(e,s)=>{s.stopPropagation(),null==d||d(e)};return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-zambia-black",children:(0,k.GP)(o,"MMMM yyyy")}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>{h((0,S.a)(o,1))},children:(0,r.jsx)(v.A,{className:"h-4 w-4"})}),(0,r.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>{h((0,T.P)(o,1))},children:(0,r.jsx)(p.A,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)(n.$,{className:"bg-zambia-orange hover:bg-zambia-orange/90",onClick:()=>null==d?void 0:d(new Date),children:[(0,r.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"New Event"]})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Calendar View"}),(0,r.jsx)(i.BT,{children:"Click on a date to view details or create new events"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,r.jsx)("div",{className:"p-2 text-center text-sm font-medium text-gray-600 border-b",children:e},e)),g.map((e,s)=>{let a=E(e),t=(0,C.r)(e,new Date),i=x&&(0,C.r)(e,x);return(0,r.jsxs)("div",{className:"\n                    min-h-[100px] p-2 border border-gray-200 cursor-pointer\n                    hover:bg-gray-50 transition-colors relative\n                    ".concat(!(0,A.t)(e,o)?"bg-gray-50 text-gray-400":"","\n                    ").concat(t?"bg-zambia-green/10":"","\n                    ").concat(i?"ring-2 ring-zambia-orange":"","\n                  "),onClick:()=>J(e),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("span",{className:"\n                      text-sm font-medium\n                      ".concat(t?"bg-zambia-green text-white rounded-full w-6 h-6 flex items-center justify-center":"","\n                    "),children:(0,k.GP)(e,"d")}),(0,r.jsx)(n.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 hover:opacity-100",onClick:s=>M(e,s),children:(0,r.jsx)(N.A,{className:"h-3 w-3"})})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[a.slice(0,3).map(e=>(0,r.jsxs)("div",{className:"\n                          text-xs p-1 rounded cursor-pointer truncate\n                          ".concat(H(e),"\n                          ").concat(z(e.priority),"\n                          border-l-2\n                        "),onClick:s=>P(e,s),title:e.title,children:[e.caseNumber&&"".concat(e.caseNumber,": "),e.title]},e.id)),a.length>3&&(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["+",a.length-3," more"]})]})]},s)})]})})]}),x&&(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{children:["Events for ",(0,k.GP)(x,"MMMM d, yyyy")]}),(0,r.jsxs)(i.BT,{children:[E(x).length," events scheduled"]})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)("div",{className:"space-y-3",children:0===E(x).length?(0,r.jsx)("p",{className:"text-gray-500",children:"No events scheduled for this date."}):E(x).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:shadow-md transition-shadow cursor-pointer",onClick:()=>null==a?void 0:a(e),children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(l.E,{className:H(e),children:e.type}),e.priority&&(0,r.jsx)(l.E,{variant:"outline",className:z(e.priority),children:e.priority})]}),(0,r.jsx)("h4",{className:"font-medium mt-1",children:e.title}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[(0,k.GP)(e.start,"h:mm a")," - ",(0,k.GP)(e.end,"h:mm a"),e.location&&" â€¢ ".concat(e.location)]}),e.caseNumber&&(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Case: ",e.caseNumber]})]}),(0,r.jsx)(n.$,{variant:"ghost",size:"sm",children:(0,r.jsx)(b.A,{className:"h-4 w-4"})})]},e.id))})})]})]})}var H=a(470),z=a(5932);function J(){let[e,s]=(0,t.useState)([]),[a,v]=(0,t.useState)([]),[p,N]=(0,t.useState)(!0),[b,y]=(0,t.useState)(!1),[f,w]=(0,t.useState)(!1),[C,S]=(0,t.useState)(null),[T,k]=(0,t.useState)(null),[A,J]=(0,t.useState)({status:"scheduled"});(0,t.useEffect)(()=>{P(),M()},[]);let P=async()=>{try{N(!0);let e=await (0,H.Fd)(z.I.HEARINGS);s(e||[])}catch(e){console.error("Error loading hearings:",e)}finally{N(!1)}},M=async()=>{try{y(!0);let e=await (0,H.UK)(z.I.CASES);v(e||[])}catch(e){console.error("Error loading cases:",e)}finally{y(!1)}},B=e.map(e=>{let s=new Date("".concat(e.date,"T").concat(e.time)),a=new Date(s.getTime()+36e5);return{id:e.id,title:e.title,start:s,end:a,type:"hearing",location:e.location,caseNumber:e.caseNumber,priority:e.priority||"medium",status:e.status}}),D=new Date().toISOString().split("T")[0],F=e.filter(e=>e.date===D),I=a.filter(e=>"active"===e.status||"pending"===e.status),$=e=>{S(e),J({...A,date:e.toISOString().split("T")[0]}),w(!0)},V=async()=>{if(!T)return void alert("Please select a case first");if(!A.date||!A.time)return void alert("Please fill in date and time");try{let a={id:Date.now().toString(),caseId:(null==T?void 0:T.id)||"",caseNumber:A.caseNumber,title:A.title,date:A.date,time:A.time,location:A.location||"TBD",judge:A.judge||"TBD",status:A.status,description:A.description,participants:A.participants,priority:A.priority||"medium",purpose:A.purpose||"Hearing"};await (0,H.CW)(z.I.HEARINGS,a)?(s([...e,a]),w(!1),J({status:"scheduled"}),S(null),k(null),alert("Hearing scheduled successfully!")):alert("Failed to create hearing. Please try again.")}catch(e){console.error("Error creating hearing:",e),alert("An error occurred while creating the hearing.")}},Z=async a=>{if(confirm("Are you sure you want to delete this hearing?"))try{let r=await (0,H.Wv)(z.I.HEARINGS,a);r.success?s(e.filter(e=>e.id!==a)):alert("Failed to delete hearing: "+r.error)}catch(e){console.error("Error deleting hearing:",e),alert("An error occurred while deleting the hearing.")}},G=e=>{switch(e){case"scheduled":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"postponed":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return p?(0,r.jsx)("div",{className:"container mx-auto p-6",children:(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"text-lg",children:"Loading calendar..."})})}):(0,r.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-zambia-black",children:"Court Calendar"}),(0,r.jsx)("p",{className:"text-zambia-black/70",children:"Manage court schedules and hearings"})]}),(0,r.jsxs)(c.lG,{open:f,onOpenChange:w,children:[(0,r.jsx)(c.zM,{asChild:!0,children:(0,r.jsx)(n.$,{className:"bg-zambia-orange hover:bg-zambia-orange/90",children:"Schedule Hearing"})}),(0,r.jsxs)(c.Cf,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)(c.c7,{children:[(0,r.jsx)(c.L3,{children:"Schedule New Hearing"}),(0,r.jsx)(c.rr,{children:"Create a new court hearing appointment"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"case",children:"Select Case *"}),(0,r.jsxs)(h.l6,{value:(null==T?void 0:T.id)||"",onValueChange:e=>{let s=a.find(s=>s.id===e);s&&(k(s),J({...A,caseNumber:s.caseNumber,title:s.title,priority:s.priority}))},disabled:b,children:[(0,r.jsx)(h.bq,{children:(0,r.jsx)(h.yv,{placeholder:b?"Loading cases...":"Select a case"})}),(0,r.jsxs)(h.gC,{children:[I.map(e=>(0,r.jsx)(h.eb,{value:e.id,children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"font-medium",children:e.caseNumber}),(0,r.jsx)("span",{className:"text-sm text-gray-500 truncate",children:e.title})]})},e.id)),0===I.length&&(0,r.jsx)(h.eb,{value:"no-cases",disabled:!0,children:"No active cases available"})]})]})]}),T&&(0,r.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Case Details"}),(0,r.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Case Number:"})," ",T.caseNumber]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Title:"})," ",T.title]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Type:"})," ",T.type]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Status:"})," ",T.status]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Priority:"})," ",T.priority]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"caseNumber",children:"Case Number *"}),(0,r.jsx)(d.p,{id:"caseNumber",value:A.caseNumber||"",onChange:e=>J({...A,caseNumber:e.target.value}),placeholder:"e.g., CV-2024-001",disabled:!!T})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"title",children:"Case Title *"}),(0,r.jsx)(d.p,{id:"title",value:A.title||"",onChange:e=>J({...A,title:e.target.value}),placeholder:"e.g., Smith vs. Johnson",disabled:!!T})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"date",children:"Date *"}),(0,r.jsx)(d.p,{id:"date",type:"date",value:A.date||"",onChange:e=>J({...A,date:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"time",children:"Time *"}),(0,r.jsx)(d.p,{id:"time",type:"time",value:A.time||"",onChange:e=>J({...A,time:e.target.value})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"location",children:"Location"}),(0,r.jsxs)(h.l6,{value:A.location,onValueChange:e=>J({...A,location:e}),children:[(0,r.jsx)(h.bq,{children:(0,r.jsx)(h.yv,{placeholder:"Select courtroom"})}),(0,r.jsxs)(h.gC,{children:[(0,r.jsx)(h.eb,{value:"Courtroom 1",children:"Courtroom 1"}),(0,r.jsx)(h.eb,{value:"Courtroom 2",children:"Courtroom 2"}),(0,r.jsx)(h.eb,{value:"Courtroom 3",children:"Courtroom 3"}),(0,r.jsx)(h.eb,{value:"Virtual",children:"Virtual Hearing"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"purpose",children:"Purpose"}),(0,r.jsxs)(h.l6,{value:A.purpose,onValueChange:e=>J({...A,purpose:e}),children:[(0,r.jsx)(h.bq,{children:(0,r.jsx)(h.yv,{placeholder:"Select hearing purpose"})}),(0,r.jsxs)(h.gC,{children:[(0,r.jsx)(h.eb,{value:"Initial Hearing",children:"Initial Hearing"}),(0,r.jsx)(h.eb,{value:"Pre-trial Conference",children:"Pre-trial Conference"}),(0,r.jsx)(h.eb,{value:"Trial",children:"Trial"}),(0,r.jsx)(h.eb,{value:"Sentencing",children:"Sentencing"}),(0,r.jsx)(h.eb,{value:"Motion Hearing",children:"Motion Hearing"}),(0,r.jsx)(h.eb,{value:"Status Conference",children:"Status Conference"}),(0,r.jsx)(h.eb,{value:"Settlement Conference",children:"Settlement Conference"}),(0,r.jsx)(h.eb,{value:"Bail Hearing",children:"Bail Hearing"}),(0,r.jsx)(h.eb,{value:"Other",children:"Other"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"judge",children:"Judge"}),(0,r.jsxs)(h.l6,{value:A.judge,onValueChange:e=>J({...A,judge:e}),children:[(0,r.jsx)(h.bq,{children:(0,r.jsx)(h.yv,{placeholder:"Select judge"})}),(0,r.jsxs)(h.gC,{children:[(0,r.jsx)(h.eb,{value:"Judge Mwansa",children:"Judge Mwansa"}),(0,r.jsx)(h.eb,{value:"Judge Phiri",children:"Judge Phiri"}),(0,r.jsx)(h.eb,{value:"Judge Tembo",children:"Judge Tembo"}),(0,r.jsx)(h.eb,{value:"Judge Banda",children:"Judge Banda"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"priority",children:"Priority"}),(0,r.jsxs)(h.l6,{value:A.priority,onValueChange:e=>J({...A,priority:e}),children:[(0,r.jsx)(h.bq,{children:(0,r.jsx)(h.yv,{placeholder:"Select priority"})}),(0,r.jsxs)(h.gC,{children:[(0,r.jsx)(h.eb,{value:"low",children:"Low"}),(0,r.jsx)(h.eb,{value:"medium",children:"Medium"}),(0,r.jsx)(h.eb,{value:"high",children:"High"}),(0,r.jsx)(h.eb,{value:"urgent",children:"Urgent"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.J,{htmlFor:"description",children:"Description"}),(0,r.jsx)(x.T,{id:"description",value:A.description||"",onChange:e=>J({...A,description:e.target.value}),placeholder:"Additional notes or details",rows:3})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(n.$,{onClick:V,className:"flex-1",children:"Create Hearing"}),(0,r.jsx)(n.$,{variant:"outline",onClick:()=>{w(!1),J({status:"scheduled"}),S(null),k(null)},children:"Cancel"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Calendar View"}),(0,r.jsx)(i.BT,{children:"Monthly calendar with hearings"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)(E,{events:B,onEventClick:s=>{let a=e.find(e=>e.id===s.id);a&&(console.log("Hearing details:",a),alert("Hearing: ".concat(a.caseNumber,"\n").concat(a.title,"\nDate: ").concat(a.date," at ").concat(a.time,"\nLocation: ").concat(a.location,"\nJudge: ").concat(a.judge)))},onDateClick:$,onEventCreate:$})})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Today's Hearings"}),(0,r.jsx)(i.BT,{children:"Hearings scheduled for today"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[F.map(e=>(0,r.jsxs)("div",{className:"border-l-4 border-zambia-orange pl-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h4",{className:"font-medium",children:e.caseNumber}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.A,{className:"h-3 w-3 text-gray-400"}),(0,r.jsx)(l.E,{variant:"outline",children:e.time})]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.title}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(u.A,{className:"h-3 w-3"}),e.location]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(j.A,{className:"h-3 w-3"}),e.judge]})]}),(0,r.jsx)(l.E,{className:"mt-2 text-xs ".concat(G(e.status)),children:e.status})]},e.id)),0===F.length&&(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(g.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"No hearings scheduled for today"})]})]})})]})})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"All Hearings"}),(0,r.jsx)(i.BT,{children:"Complete list of scheduled hearings"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)("div",{className:"space-y-4",children:0===e.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(g.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-gray-500",children:"No hearings scheduled"}),(0,r.jsx)(n.$,{variant:"outline",className:"mt-2",onClick:()=>w(!0),children:"Schedule First Hearing"})]}):e.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("h4",{className:"font-medium",children:e.caseNumber}),(0,r.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.title})]}),(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("div",{className:"text-zambia-green font-medium",children:e.date}),(0,r.jsxs)("div",{className:"text-gray-500 flex items-center gap-1",children:[(0,r.jsx)(m.A,{className:"h-3 w-3"}),e.time]})]}),(0,r.jsxs)("div",{className:"text-sm min-w-0",children:[(0,r.jsxs)("div",{className:"font-medium flex items-center gap-1",children:[(0,r.jsx)(u.A,{className:"h-3 w-3 text-gray-400"}),e.location]}),(0,r.jsxs)("div",{className:"text-gray-500 flex items-center gap-1",children:[(0,r.jsx)(j.A,{className:"h-3 w-3"}),e.judge]})]}),(0,r.jsx)(l.E,{className:G(e.status),children:e.status})]})}),(0,r.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,r.jsx)(n.$,{size:"sm",variant:"outline",children:"Edit"}),(0,r.jsx)(n.$,{size:"sm",variant:"outline",children:"View"}),(0,r.jsx)(n.$,{size:"sm",variant:"outline",onClick:()=>Z(e.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Delete"})]})]},e.id))})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[9135,3965,9352,373,4926,6345,6235,8045,8511,2179,8441,1684,7358],()=>s(5779)),_N_E=e.O()}]);