(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3327],{646:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1154:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2525:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2657:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3421:(e,s,a)=>{Promise.resolve().then(a.bind(a,9230))},3904:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},5339:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5365:(e,s,a)=>{"use strict";a.d(s,{Fc:()=>r,TN:()=>n});var l=a(5155);a(2115);var t=a(2085),i=a(9434);let c=(0,t.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function r(e){let{className:s,variant:a,...t}=e;return(0,l.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,i.cn)(c({variant:a}),s),...t})}function n(e){let{className:s,...a}=e;return(0,l.jsx)("div",{"data-slot":"alert-description",className:(0,i.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...a})}},5525:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},7434:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},7924:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9230:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>B});var l=a(5155),t=a(2115),i=a(6695),c=a(285),r=a(6126),n=a(2523),d=a(9409),o=a(4165),u=a(8539),x=a(5057),m=a(5365),h=a(3655),p="horizontal",g=["horizontal","vertical"],j=t.forwardRef((e,s)=>{var a;let{decorative:t,orientation:i=p,...c}=e,r=(a=i,g.includes(a))?i:p;return(0,l.jsx)(h.sG.div,{"data-orientation":r,...t?{role:"none"}:{"aria-orientation":"vertical"===r?r:void 0,role:"separator"},...c,ref:s})});j.displayName="Separator";var v=a(9434);function f(e){let{className:s,orientation:a="horizontal",decorative:t=!0,...i}=e;return(0,l.jsx)(j,{"data-slot":"separator",decorative:t,orientation:a,className:(0,v.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...i})}var y=a(9946);let N=(0,y.A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var b=a(7434);let w=(0,y.A)("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);var S=a(3904),A=a(9869),C=a(646),k=a(5339),D=a(7924),M=a(1154);let E=(0,y.A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var _=a(9074),L=a(5525),T=a(2657);let z=(0,y.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),F=(0,y.A)("signature",[["path",{d:"m21 17-2.156-1.868A.5.5 0 0 0 18 15.5v.5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1c0-2.545-3.991-3.97-8.5-4a1 1 0 0 0 0 5c4.153 0 4.745-11.295 5.708-13.5a2.5 2.5 0 1 1 3.31 3.284",key:"y32ogt"}],["path",{d:"M3 21h18",key:"itz85i"}]]);var I=a(2525),P=a(470),U=a(5932);let V={motion:"Motion",brief:"Brief",evidence:"Evidence",order:"Court Order",judgment:"Judgment",pleading:"Pleading",exhibit:"Exhibit",other:"Other"},q={draft:"bg-gray-100 text-gray-800 border-gray-200",submitted:"bg-blue-100 text-blue-800 border-blue-200",under_review:"bg-yellow-100 text-yellow-800 border-yellow-200",approved:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200",sealed:"bg-purple-100 text-purple-800 border-purple-200"},O={unsigned:"bg-gray-100 text-gray-800",pending_signature:"bg-orange-100 text-orange-800",digitally_signed:"bg-green-100 text-green-800",sealed:"bg-purple-100 text-purple-800"};function B(){let[e,s]=(0,t.useState)([]),[a,h]=(0,t.useState)([]),[p,g]=(0,t.useState)(!0),[j,v]=(0,t.useState)(!1),[y,B]=(0,t.useState)(""),[R,Z]=(0,t.useState)("all"),[J,$]=(0,t.useState)("all"),[H,G]=(0,t.useState)("all"),[W,K]=(0,t.useState)(!1),[X,Y]=(0,t.useState)(!1),[Q,ee]=(0,t.useState)(null),[es,ea]=(0,t.useState)(null),[el,et]=(0,t.useState)(null),ei=(0,t.useRef)(null),[ec,er]=(0,t.useState)({title:"",description:"",type:"other",caseId:"",tags:"",isPublic:!1,accessLevel:"restricted",files:null});(0,t.useEffect)(()=>{en(),ed()},[]),(0,t.useEffect)(()=>{if(es||el){let e=setTimeout(()=>{ea(null),et(null)},5e3);return()=>clearTimeout(e)}},[es,el]);let en=async()=>{g(!0);try{let e=(await (0,P.UK)(U.I.DOCUMENTS||"documents")).map(e=>{var s,a,l,t;return{...e,uploadedAt:(null==(s=e.uploadedAt)?void 0:s.toDate)?e.uploadedAt.toDate():new Date(e.uploadedAt),lastModified:(null==(a=e.lastModified)?void 0:a.toDate)?e.lastModified.toDate():new Date(e.lastModified),digitalSignature:e.digitalSignature?{...e.digitalSignature,signedAt:(null==(l=e.digitalSignature.signedAt)?void 0:l.toDate)?e.digitalSignature.signedAt.toDate():new Date(e.digitalSignature.signedAt)}:void 0,seal:e.seal?{...e.seal,sealedAt:(null==(t=e.seal.sealedAt)?void 0:t.toDate)?e.seal.sealedAt.toDate():new Date(e.seal.sealedAt)}:void 0}});s(e)}catch(e){console.error("Error loading documents:",e),ea("Failed to load documents")}finally{g(!1)}},ed=async()=>{try{let e=await (0,P.UK)(U.I.CASES||"cases");h(e)}catch(e){console.error("Error loading cases:",e)}},eo=async()=>{if(!ec.files||0===ec.files.length)return void ea("Please select at least one file to upload");if(!ec.title.trim())return void ea("Please enter a document title");v(!0),ea(null);try{let e=Array.from(ec.files).map(async e=>{var s;let l={id:"doc_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),title:ec.files.length>1?"".concat(ec.title," - ").concat(e.name):ec.title,description:ec.description,type:ec.type,status:"draft",signatureStatus:"unsigned",fileName:e.name,fileSize:e.size,mimeType:e.type,caseId:ec.caseId||void 0,caseNumber:ec.caseId?null==(s=a.find(e=>e.id===ec.caseId))?void 0:s.caseNumber:void 0,uploadedBy:"current_user_id",uploadedAt:new Date,lastModified:new Date,version:1,tags:ec.tags.split(",").map(e=>e.trim()).filter(Boolean),isPublic:ec.isPublic,accessLevel:ec.accessLevel};if(console.log("Would upload file: ".concat(e.name," (").concat(e.size," bytes)")),await (0,P.CW)(U.I.DOCUMENTS||"documents",l))return l;throw Error("Failed to upload ".concat(e.name))}),l=await Promise.all(e);s(e=>[...e,...l]),et("Successfully uploaded ".concat(l.length," document(s)")),K(!1),eu()}catch(e){console.error("Error uploading documents:",e),ea("Failed to upload documents")}finally{v(!1)}},eu=()=>{er({title:"",description:"",type:"other",caseId:"",tags:"",isPublic:!1,accessLevel:"restricted",files:null}),ei.current&&(ei.current.value="")},ex=async(a,l)=>{try{let t=e.find(e=>e.id===a);if(!t)return;let i={...t,status:l,lastModified:new Date};(await (0,P.nc)(i,U.I.DOCUMENTS||"documents",a)).success?(s(e=>e.map(e=>e.id===a?i:e)),et("Document status updated to ".concat(l))):ea("Failed to update document status")}catch(e){console.error("Error updating document status:",e),ea("Error updating document status")}},em=async a=>{try{let l=e.find(e=>e.id===a);if(!l)return;let t={...l,signatureStatus:"digitally_signed",digitalSignature:{signedBy:"current_user_id",signedAt:new Date,signatureHash:"sig_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))},lastModified:new Date};(await (0,P.nc)(t,U.I.DOCUMENTS||"documents",a)).success?(s(e=>e.map(e=>e.id===a?t:e)),et("Document digitally signed")):ea("Failed to sign document")}catch(e){console.error("Error signing document:",e),ea("Error signing document")}},eh=async(a,l)=>{try{let t=e.find(e=>e.id===a);if(!t)return;let i={...t,signatureStatus:"sealed",seal:{sealedBy:"current_user_id",sealedAt:new Date,sealType:l},lastModified:new Date};(await (0,P.nc)(i,U.I.DOCUMENTS||"documents",a)).success?(s(e=>e.map(e=>e.id===a?i:e)),et("Document sealed with ".concat(l," seal"))):ea("Failed to seal document")}catch(e){console.error("Error sealing document:",e),ea("Error sealing document")}},ep=async e=>{if(confirm("Are you sure you want to delete this document? This action cannot be undone."))try{(await (0,P.Wv)(U.I.DOCUMENTS||"documents",e)).success?(s(s=>s.filter(s=>s.id!==e)),et("Document deleted successfully")):ea("Failed to delete document")}catch(e){console.error("Error deleting document:",e),ea("Error deleting document")}},eg=e=>e.startsWith("image/")?(0,l.jsx)(N,{className:"w-4 h-4"}):e.includes("pdf")?(0,l.jsx)(b.A,{className:"w-4 h-4"}):(0,l.jsx)(w,{className:"w-4 h-4"}),ej=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]},ev=e.filter(e=>{let s=e.title.toLowerCase().includes(y.toLowerCase())||e.fileName.toLowerCase().includes(y.toLowerCase())||e.description.toLowerCase().includes(y.toLowerCase()),a="all"===R||e.type===R,l="all"===J||e.status===J,t="all"===H||e.accessLevel===H;return s&&a&&l&&t});return(0,l.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Document Management"}),(0,l.jsx)("p",{className:"text-gray-600",children:p?"Loading documents...":"Manage all court documents (".concat(ev.length," documents)")})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)(c.$,{variant:"outline",onClick:en,disabled:p,children:[(0,l.jsx)(S.A,{className:"w-4 h-4 mr-2 ".concat(p?"animate-spin":"")}),"Refresh"]}),(0,l.jsxs)(c.$,{onClick:()=>K(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[(0,l.jsx)(A.A,{className:"w-4 h-4 mr-2"}),"Upload Documents"]})]})]}),el&&(0,l.jsxs)(m.Fc,{className:"border-green-200 bg-green-50",children:[(0,l.jsx)(C.A,{className:"h-4 w-4 text-green-600"}),(0,l.jsx)(m.TN,{className:"text-green-800",children:el})]}),es&&(0,l.jsxs)(m.Fc,{className:"border-red-200 bg-red-50",children:[(0,l.jsx)(k.A,{className:"h-4 w-4 text-red-600"}),(0,l.jsx)(m.TN,{className:"text-red-800",children:es})]}),(0,l.jsx)(i.Zp,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,l.jsx)(D.A,{className:"w-4 h-4 text-gray-400"}),(0,l.jsx)(n.p,{placeholder:"Search documents by title, filename, or description...",value:y,onChange:e=>B(e.target.value),className:"border-0 shadow-none focus-visible:ring-0"})]}),(0,l.jsxs)(d.l6,{value:R,onValueChange:Z,children:[(0,l.jsx)(d.bq,{className:"w-full sm:w-[150px]",children:(0,l.jsx)(d.yv,{placeholder:"All Types"})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"all",children:"All Types"}),Object.entries(V).map(e=>{let[s,a]=e;return(0,l.jsx)(d.eb,{value:s,children:a},s)})]})]}),(0,l.jsxs)(d.l6,{value:J,onValueChange:$,children:[(0,l.jsx)(d.bq,{className:"w-full sm:w-[150px]",children:(0,l.jsx)(d.yv,{placeholder:"All Status"})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"all",children:"All Status"}),(0,l.jsx)(d.eb,{value:"draft",children:"Draft"}),(0,l.jsx)(d.eb,{value:"submitted",children:"Submitted"}),(0,l.jsx)(d.eb,{value:"under_review",children:"Under Review"}),(0,l.jsx)(d.eb,{value:"approved",children:"Approved"}),(0,l.jsx)(d.eb,{value:"rejected",children:"Rejected"}),(0,l.jsx)(d.eb,{value:"sealed",children:"Sealed"})]})]}),(0,l.jsxs)(d.l6,{value:H,onValueChange:G,children:[(0,l.jsx)(d.bq,{className:"w-full sm:w-[150px]",children:(0,l.jsx)(d.yv,{placeholder:"All Access"})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"all",children:"All Access"}),(0,l.jsx)(d.eb,{value:"public",children:"Public"}),(0,l.jsx)(d.eb,{value:"restricted",children:"Restricted"}),(0,l.jsx)(d.eb,{value:"confidential",children:"Confidential"})]})]})]})}),p?(0,l.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,l.jsx)(M.A,{className:"w-8 h-8 animate-spin text-blue-600"}),(0,l.jsx)("span",{className:"ml-2 text-lg",children:"Loading documents..."})]}):0===ev.length?(0,l.jsx)(i.Zp,{className:"p-12 text-center",children:(0,l.jsxs)("div",{className:"max-w-md mx-auto space-y-4",children:[(0,l.jsx)(b.A,{className:"w-16 h-16 mx-auto text-gray-400"}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"No Documents Found"}),(0,l.jsx)("p",{className:"text-gray-600",children:0===e.length?"No documents have been uploaded yet. Click 'Upload Documents' to get started.":"No documents match your current filters. Try adjusting your search criteria."}),(0,l.jsxs)(c.$,{onClick:()=>K(!0),className:"bg-blue-600 hover:bg-blue-700",children:[(0,l.jsx)(A.A,{className:"w-4 h-4 mr-2"}),"Upload Documents"]})]})}):(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ev.map(e=>(0,l.jsxs)(i.Zp,{className:"hover:shadow-lg transition-all duration-200",children:[(0,l.jsx)(i.aR,{className:"pb-3",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[eg(e.mimeType),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)(i.ZB,{className:"text-base font-semibold text-gray-900 line-clamp-1",children:e.title}),(0,l.jsx)(i.BT,{className:"text-sm mt-1 line-clamp-1",children:e.fileName})]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)(r.E,{className:"text-xs ".concat(q[e.status]),children:e.status.replace("_"," ")}),(0,l.jsx)(r.E,{className:"text-xs ".concat(O[e.signatureStatus]),children:e.signatureStatus.replace("_"," ")})]})]})}),(0,l.jsxs)(i.Wu,{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(E,{className:"w-3 h-3 text-gray-400"}),(0,l.jsx)("span",{className:"font-medium",children:V[e.type]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(w,{className:"w-3 h-3 text-gray-400"}),(0,l.jsx)("span",{className:"font-medium",children:ej(e.fileSize)})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(_.A,{className:"w-3 h-3 text-gray-400"}),(0,l.jsx)("span",{className:"font-medium",children:e.uploadedAt.toLocaleDateString()})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(L.A,{className:"w-3 h-3 text-gray-400"}),(0,l.jsx)("span",{className:"font-medium capitalize",children:e.accessLevel})]})]}),e.caseNumber&&(0,l.jsx)("div",{className:"bg-blue-50 p-2 rounded text-sm",children:(0,l.jsxs)("span",{className:"text-blue-700 font-medium",children:["Case: ",e.caseNumber]})}),e.tags.length>0&&(0,l.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map((e,s)=>(0,l.jsx)(r.E,{variant:"outline",className:"text-xs",children:e},s)),e.tags.length>3&&(0,l.jsxs)(r.E,{variant:"outline",className:"text-xs",children:["+",e.tags.length-3," more"]})]}),(0,l.jsx)(f,{}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(c.$,{size:"sm",variant:"outline",onClick:()=>{ee(e),Y(!0)},className:"flex-1",children:[(0,l.jsx)(T.A,{className:"w-3 h-3 mr-1"}),"View"]}),(0,l.jsxs)(c.$,{size:"sm",variant:"outline",onClick:()=>alert("Download functionality would be implemented here"),className:"flex-1",children:[(0,l.jsx)(z,{className:"w-3 h-3 mr-1"}),"Download"]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:["unsigned"===e.signatureStatus&&(0,l.jsxs)(c.$,{size:"sm",onClick:()=>em(e.id),className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[(0,l.jsx)(F,{className:"w-3 h-3 mr-1"}),"Sign"]}),"approved"===e.status&&"sealed"!==e.signatureStatus&&(0,l.jsxs)(d.l6,{onValueChange:s=>eh(e.id,s),children:[(0,l.jsx)(d.bq,{className:"flex-1",children:(0,l.jsx)(d.yv,{placeholder:"Seal Document"})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"court",children:"Court Seal"}),(0,l.jsx)(d.eb,{value:"judicial",children:"Judicial Seal"}),(0,l.jsx)(d.eb,{value:"administrative",children:"Administrative Seal"})]})]}),(0,l.jsxs)(d.l6,{onValueChange:s=>ex(e.id,s),children:[(0,l.jsx)(d.bq,{className:"flex-1",children:(0,l.jsx)(d.yv,{placeholder:"Update Status"})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"draft",children:"Draft"}),(0,l.jsx)(d.eb,{value:"submitted",children:"Submitted"}),(0,l.jsx)(d.eb,{value:"under_review",children:"Under Review"}),(0,l.jsx)(d.eb,{value:"approved",children:"Approved"}),(0,l.jsx)(d.eb,{value:"rejected",children:"Rejected"})]})]})]}),(0,l.jsxs)(c.$,{size:"sm",variant:"destructive",onClick:()=>ep(e.id),className:"w-full",children:[(0,l.jsx)(I.A,{className:"w-3 h-3 mr-1"}),"Delete Document"]})]})]},e.id))}),(0,l.jsx)(o.lG,{open:W,onOpenChange:K,children:(0,l.jsxs)(o.Cf,{className:"max-w-2xl",children:[(0,l.jsxs)(o.c7,{children:[(0,l.jsx)(o.L3,{children:"Upload Documents"}),(0,l.jsx)(o.rr,{children:"Upload new documents to the system. Multiple files can be uploaded at once."})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(x.J,{htmlFor:"files",children:"Select Files *"}),(0,l.jsx)(n.p,{id:"files",type:"file",ref:ei,multiple:!0,onChange:e=>er(s=>({...s,files:e.target.files})),className:"cursor-pointer"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Supported formats: PDF, DOC, DOCX, TXT, JPG, PNG, etc."})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(x.J,{htmlFor:"title",children:"Document Title *"}),(0,l.jsx)(n.p,{id:"title",value:ec.title,onChange:e=>er(s=>({...s,title:e.target.value})),placeholder:"Enter document title"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(x.J,{htmlFor:"type",children:"Document Type"}),(0,l.jsxs)(d.l6,{value:ec.type,onValueChange:e=>er(s=>({...s,type:e})),children:[(0,l.jsx)(d.bq,{children:(0,l.jsx)(d.yv,{})}),(0,l.jsx)(d.gC,{children:Object.entries(V).map(e=>{let[s,a]=e;return(0,l.jsx)(d.eb,{value:s,children:a},s)})})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(x.J,{htmlFor:"description",children:"Description"}),(0,l.jsx)(u.T,{id:"description",value:ec.description,onChange:e=>er(s=>({...s,description:e.target.value})),placeholder:"Enter document description",rows:3})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(x.J,{htmlFor:"caseId",children:"Related Case (Optional)"}),(0,l.jsxs)(d.l6,{value:ec.caseId,onValueChange:e=>er(s=>({...s,caseId:e})),children:[(0,l.jsx)(d.bq,{children:(0,l.jsx)(d.yv,{placeholder:"Select a case"})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"",children:"No case selected"}),a.map(e=>(0,l.jsxs)(d.eb,{value:e.id,children:[e.caseNumber," - ",e.title]},e.id))]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(x.J,{htmlFor:"accessLevel",children:"Access Level"}),(0,l.jsxs)(d.l6,{value:ec.accessLevel,onValueChange:e=>er(s=>({...s,accessLevel:e})),children:[(0,l.jsx)(d.bq,{children:(0,l.jsx)(d.yv,{})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"public",children:"Public"}),(0,l.jsx)(d.eb,{value:"restricted",children:"Restricted"}),(0,l.jsx)(d.eb,{value:"confidential",children:"Confidential"})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(x.J,{htmlFor:"tags",children:"Tags (comma-separated)"}),(0,l.jsx)(n.p,{id:"tags",value:ec.tags,onChange:e=>er(s=>({...s,tags:e.target.value})),placeholder:"e.g., urgent, motion, evidence"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"isPublic",checked:ec.isPublic,onChange:e=>er(s=>({...s,isPublic:e.target.checked})),className:"rounded border-gray-300"}),(0,l.jsx)(x.J,{htmlFor:"isPublic",className:"text-sm",children:"Make this document publicly accessible"})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,l.jsx)(c.$,{variant:"outline",onClick:()=>{K(!1),eu()},disabled:j,children:"Cancel"}),(0,l.jsx)(c.$,{onClick:eo,disabled:j||!ec.files||0===ec.files.length,className:"bg-blue-600 hover:bg-blue-700",children:j?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(M.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(A.A,{className:"w-4 h-4 mr-2"}),"Upload Documents"]})})]})]})]})}),(0,l.jsx)(o.lG,{open:X,onOpenChange:Y,children:(0,l.jsxs)(o.Cf,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,l.jsx)(o.c7,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)(o.L3,{className:"text-xl font-bold flex items-center gap-3",children:[eg((null==Q?void 0:Q.mimeType)||""),null==Q?void 0:Q.title]}),(0,l.jsxs)(o.rr,{className:"text-base mt-1",children:[null==Q?void 0:Q.fileName," â€¢ ",Q&&ej(Q.fileSize)]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(r.E,{className:Q?q[Q.status]:"",children:null==Q?void 0:Q.status.replace("_"," ")}),(0,l.jsx)(r.E,{className:Q?O[Q.signatureStatus]:"",children:null==Q?void 0:Q.signatureStatus.replace("_"," ")})]})]})}),Q&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)(i.Zp,{className:"p-4",children:[(0,l.jsxs)("h4",{className:"font-semibold mb-3 text-blue-700 flex items-center gap-2",children:[(0,l.jsx)(b.A,{className:"w-4 h-4"}),"Document Info"]}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,l.jsx)("span",{className:"font-medium",children:V[Q.type]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Version:"}),(0,l.jsxs)("span",{className:"font-medium",children:["v",Q.version]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Access:"}),(0,l.jsx)("span",{className:"font-medium capitalize",children:Q.accessLevel})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Public:"}),(0,l.jsx)("span",{className:"font-medium",children:Q.isPublic?"Yes":"No"})]})]})]}),(0,l.jsxs)(i.Zp,{className:"p-4",children:[(0,l.jsxs)("h4",{className:"font-semibold mb-3 text-green-700 flex items-center gap-2",children:[(0,l.jsx)(_.A,{className:"w-4 h-4"}),"Timeline"]}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Uploaded:"}),(0,l.jsx)("span",{className:"font-medium",children:Q.uploadedAt.toLocaleDateString()})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Modified:"}),(0,l.jsx)("span",{className:"font-medium",children:Q.lastModified.toLocaleDateString()})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"By:"}),(0,l.jsx)("span",{className:"font-medium",children:Q.uploadedBy})]})]})]}),(0,l.jsxs)(i.Zp,{className:"p-4",children:[(0,l.jsxs)("h4",{className:"font-semibold mb-3 text-purple-700 flex items-center gap-2",children:[(0,l.jsx)(L.A,{className:"w-4 h-4"}),"Security"]}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,l.jsx)("span",{className:"font-medium capitalize",children:Q.status.replace("_"," ")})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Signature:"}),(0,l.jsx)("span",{className:"font-medium capitalize",children:Q.signatureStatus.replace("_"," ")})]}),Q.digitalSignature&&(0,l.jsx)("div",{className:"bg-green-50 p-2 rounded mt-2",children:(0,l.jsxs)("p",{className:"text-xs text-green-800",children:["Signed by ",Q.digitalSignature.signedBy," on"," ",Q.digitalSignature.signedAt.toLocaleDateString()]})}),Q.seal&&(0,l.jsx)("div",{className:"bg-purple-50 p-2 rounded mt-2",children:(0,l.jsxs)("p",{className:"text-xs text-purple-800",children:[Q.seal.sealType," seal applied by ",Q.seal.sealedBy," on"," ",Q.seal.sealedAt.toLocaleDateString()]})})]})]})]}),Q.description&&(0,l.jsxs)(i.Zp,{className:"p-4",children:[(0,l.jsx)("h4",{className:"font-semibold mb-3 text-gray-800",children:"Description"}),(0,l.jsx)("p",{className:"text-gray-700 leading-relaxed",children:Q.description})]}),Q.caseId&&(0,l.jsxs)(i.Zp,{className:"p-4",children:[(0,l.jsx)("h4",{className:"font-semibold mb-3 text-blue-700",children:"Related Case"}),(0,l.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,l.jsx)("p",{className:"font-medium text-blue-900",children:Q.caseNumber}),(0,l.jsxs)("p",{className:"text-sm text-blue-700",children:["Case ID: ",Q.caseId]})]})]}),Q.tags.length>0&&(0,l.jsxs)(i.Zp,{className:"p-4",children:[(0,l.jsx)("h4",{className:"font-semibold mb-3 text-gray-800",children:"Tags"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:Q.tags.map((e,s)=>(0,l.jsx)(r.E,{variant:"outline",className:"bg-gray-100",children:e},s))})]}),(0,l.jsxs)(i.Zp,{className:"p-4",children:[(0,l.jsx)("h4",{className:"font-semibold mb-3 text-gray-800",children:"Actions"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,l.jsxs)(c.$,{onClick:()=>alert("Download functionality would be implemented here"),className:"bg-blue-600 hover:bg-blue-700",children:[(0,l.jsx)(z,{className:"w-4 h-4 mr-2"}),"Download"]}),"unsigned"===Q.signatureStatus&&(0,l.jsxs)(c.$,{onClick:()=>em(Q.id),className:"bg-green-600 hover:bg-green-700",children:[(0,l.jsx)(F,{className:"w-4 h-4 mr-2"}),"Digital Sign"]}),"approved"===Q.status&&"sealed"!==Q.signatureStatus&&(0,l.jsxs)(d.l6,{onValueChange:e=>eh(Q.id,e),children:[(0,l.jsx)(d.bq,{className:"w-[200px]",children:(0,l.jsx)(d.yv,{placeholder:"Apply Seal"})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"court",children:"Court Seal"}),(0,l.jsx)(d.eb,{value:"judicial",children:"Judicial Seal"}),(0,l.jsx)(d.eb,{value:"administrative",children:"Administrative Seal"})]})]}),(0,l.jsxs)(d.l6,{onValueChange:e=>ex(Q.id,e),children:[(0,l.jsx)(d.bq,{className:"w-[200px]",children:(0,l.jsx)(d.yv,{placeholder:"Change Status"})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"draft",children:"Set to Draft"}),(0,l.jsx)(d.eb,{value:"submitted",children:"Set to Submitted"}),(0,l.jsx)(d.eb,{value:"under_review",children:"Set to Under Review"}),(0,l.jsx)(d.eb,{value:"approved",children:"Set to Approved"}),(0,l.jsx)(d.eb,{value:"rejected",children:"Set to Rejected"})]})]}),(0,l.jsxs)(c.$,{onClick:()=>ep(Q.id),variant:"destructive",children:[(0,l.jsx)(I.A,{className:"w-4 h-4 mr-2"}),"Delete Document"]})]})]})]})]})})]})}},9869:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(9946).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[9135,3965,9352,373,4926,6345,6235,8045,2179,8441,1684,7358],()=>s(3421)),_N_E=e.O()}]);